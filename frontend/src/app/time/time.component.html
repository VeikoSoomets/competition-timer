<div class="row">
  <div class="col-md-6 col-md-offset-3 text-center">
    <h4>Lisa aeg</h4>
    <form (ngSubmit)="save(timeForm.value)" [formGroup]="timeForm">
      <div>
        <div class="form-group">
          <p-calendar inputId="timeFormValue" formControlName="value" [showTime]="true" dateFormat="yy-mm-dd" placeholder="Aeg" [showSeconds]="true"
                      [timeOnly]="true" [showIcon]="true"></p-calendar>
          <br/>
          <small [hidden]="timeForm.controls.value.valid || (timeForm.controls.value.pristine)" class="text-danger">
            Viga aja sisestamisel
          </small>
        </div>
        <div class="form-group" formGroupName="athlete">
          <input class="hidden" type="text" pInputText formControlName="id">
          <input class="opacity-1" type="text" pInputText formControlName="name" placeholder="Sportlane" disabled="true" (click)="displayModal()">
          <input class="hidden" type="text" pInputText formControlName="chipId">
          <input class="hidden" type="text" pInputText formControlName="startingNumber">
          <a class="btn position-absolute padding-top-3" (click)="displayModal()">Lisa</a>
          <br/>
        </div>
        <div class="form-group">
          <h5><b>Ajav√µtu punktid</b></h5>
          <div *ngFor="let tPoint of timePoints" formGroupName="timePoint">
            <label class="font-normal">
              <input type="radio" name="id" formControlName="id" [value]="tPoint.id">
              {{tPoint.description}}
            </label>
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <div class="form-group">
          <button pButton type="submit" class="btn" label="Salvesta" [disabled]="!timeForm.valid"></button>
          <button pButton type="button" class="btn btn-default" (click)="initForm()" label="Algseadista"></button>
        </div>
      </div>
    </form>

    <p-dialog [(visible)]="showModal" responsive="true" resizable="false" width="600" height="550" dismissableMask="true">
      <p-header>
        Lisa sportlane
      </p-header>
      <table class="table table-striped text-left">
        <thead>
        <tr>
          <th>Stardinumber</th>
          <th>Nimi</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let athlete of athletes">
          <td><a class="btn"  (click)="hideModal(athlete)">{{athlete.startingNumber}}</a></td>
          <td><a class="btn"  (click)="hideModal(athlete)">{{athlete.name}}</a></td>
        </tr>
        </tbody>
      </table>
    </p-dialog>
  </div>
</div>
